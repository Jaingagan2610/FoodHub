{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/lib/axios.ts"],"sourcesContent":["\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:4000\",\r\n  withCredentials: true,\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  if (typeof window !== \"undefined\") {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n\r\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/app/dashboard/admin/main/page.tsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"@/lib/axios\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  Users,\r\n  Store,\r\n  ClipboardList,\r\n  IndianRupee\r\n} from \"lucide-react\";\r\n\r\nexport default function AdminDashboard() {\r\n  const [users, setUsers] = useState<any[]>([]);\r\n  const [restaurants, setRestaurants] = useState<any[]>([]);\r\n  const [ orders, setOrders] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // useEffect(() => {\r\n  //   const loadDashboard = async () => {\r\n  //     try {\r\n  //       const [usersRes, restRes, orderRes] = await Promise.all([\r\n  //         api.get(\"/users/all\"),\r\n  //         api.get(\"/restaurants\"),\r\n  //         api.get(\"/orders\"),\r\n  //       ]);\r\n  //       console.log(\"userdatass\",usersRes.data);\r\n  //       console.log(\"resdata\",restRes.data);\r\n  //       console.log(\"orderdata\",orderRes.data);\r\n  //       setUsers(usersRes.data);\r\n  //       setRestaurants(restRes.data);\r\n  //       setOrders(orderRes.data);\r\n  //     } catch (err) {\r\n  //       console.error(\"Admin dashboard load failed\", err);\r\n  //     } finally {\r\n  //       setLoading(false);\r\n  //     }\r\n  //   };\r\n\r\n  //   loadDashboard();\r\n  // }, []);\r\n  useEffect(() => {\r\n  const loadDashboard = async () => {\r\n    try {\r\n      const usersRes = await api.get(\"/users/all\");\r\n      setUsers(usersRes.data);\r\n\r\n      const restRes = await api.get(\"/restaurants\");\r\n      setRestaurants(restRes.data);\r\n\r\n      const orderRes = await api.get(\"/orders\");\r\n      setOrders(orderRes.data);\r\n    } catch (err: any) {\r\n      console.error(\"Admin dashboard error:\", err.response?.data);\r\n      if (err.response?.status === 401) {\r\n        alert(\"Unauthorized. Admin access required.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  loadDashboard();\r\n}, []);\r\n\r\n\r\n  if (loading) return <p className=\"p-10 text-xl\">Loading dashboard...</p>;\r\n\r\n  const totalRevenue = orders.reduce(\r\n    (sum, o) => sum + (o.totalPrice || 0),\r\n    0\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6\">\r\n      {/* Title */}\r\n      <h1 className=\"text-4xl font-bold text-black mb-8\">\r\n        Admin Dashboard\r\n      </h1>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid md:grid-cols-4 gap-6 mb-10\">\r\n        <StatCard\r\n          icon={<Users className=\"w-10 h-10 text-orange-600\" />}\r\n          title=\"Users\"\r\n          value={users.length}\r\n        />\r\n        <StatCard\r\n          icon={<Store className=\"w-10 h-10 text-orange-600\" />}\r\n          title=\"Restaurants\"\r\n          value={restaurants.length}\r\n        />\r\n        <StatCard\r\n          icon={<ClipboardList className=\"w-10 h-10 text-orange-600\" />}\r\n          title=\"Orders\"\r\n          value={orders.length}\r\n        />\r\n        <StatCard\r\n          icon={<IndianRupee className=\"w-10 h-10 text-orange-600\" />}\r\n          title=\"Revenue\"\r\n          value={`â‚¹ ${totalRevenue}`}\r\n        />\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <h2 className=\"text-2xl font-bold text-black mb-4\">\r\n        Quick Management\r\n      </h2>\r\n\r\n      <div className=\"grid md:grid-cols-3 gap-6\">\r\n        <AdminLink\r\n          href=\"users\"\r\n          title=\"Manage Users\"\r\n          icon={<Users className=\"w-12 h-12 text-orange-600\" />}\r\n        />\r\n        <AdminLink\r\n          href=\"/dashboard/manager/restaurant\"\r\n          title=\"Manage Restaurants\"\r\n          icon={<Store className=\"w-12 h-12 text-orange-600\" />}\r\n        />\r\n        <AdminLink\r\n          href=\"orders\"\r\n          title=\"View Orders\"\r\n          icon={<ClipboardList className=\"w-12 h-12 text-orange-600\" />}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------- Reusable Components ----------------- */\r\n\r\nfunction StatCard({ icon, title, value }: any) {\r\n  return (\r\n    <div className=\"bg-white border shadow-sm rounded-xl p-6\">\r\n      {icon}\r\n      <h3 className=\"text-xl font-bold text-black mt-3\">{title}</h3>\r\n      <p className=\"text-2xl font-semibold text-black mt-1\">{value}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AdminLink({ href, title, icon }: any) {\r\n  return (\r\n    <Link\r\n      href={href}\r\n      className=\"bg-white border shadow-md p-6 rounded-xl hover:shadow-lg transition flex flex-col items-center\"\r\n    >\r\n      {icon}\r\n      <span className=\"text-xl font-semibold text-black mt-3\">\r\n        {title}\r\n      </span>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}