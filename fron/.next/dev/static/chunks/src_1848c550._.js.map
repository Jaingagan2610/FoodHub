{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/lib/axios.ts"],"sourcesContent":["// import axios from 'axios';\r\n// import Cookies from 'js-cookie';\r\n\r\n// const api = axios.create({\r\n//   baseURL: 'http://localhost:4000', // NestJS backend\r\n//   withCredentials: true,\r\n// });\r\n\r\n// api.interceptors.request.use((config) => {\r\n//   const token = Cookies.get('token');\r\n//   if (token) config.headers.Authorization = `Bearer ${token}`;\r\n//   return config;\r\n// });\r\n\r\n// export default api;\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:4000\",\r\n  withCredentials: true,\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  if (typeof window !== \"undefined\") {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n\r\n"],"names":[],"mappings":"AAAA,6BAA6B;AAC7B,mCAAmC;AAEnC,6BAA6B;AAC7B,wDAAwD;AACxD,2BAA2B;AAC3B,MAAM;AAEN,6CAA6C;AAC7C,wCAAwC;AACxC,iEAAiE;AACjE,mBAAmB;AACnB,MAAM;AAEN,sBAAsB;;;;;AACtB;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/app/menu/restaurant/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport api from \"@/lib/axios\";\r\nimport { MapPin, Phone, Utensils } from \"lucide-react\";\r\nimport { useCart } from \"@/store/useCart\";\r\n\r\ntype MenuItem = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  image: string;\r\n  category: string;\r\n};\r\n\r\ntype Restaurant = {\r\n  id: string;\r\n  name: string;\r\n  phone: string;\r\n  description: string;\r\n  location: string;\r\n  imageUrl: string;\r\n  cuisineType: string;\r\n};\r\n\r\nexport default function RestaurantMenuPage() {\r\n  const { id } = useParams();\r\n  const { addItem } = useCart(); \r\n  const [restaurant, setRestaurant] = useState<Restaurant | null>(null);\r\n  const [menu, setMenu] = useState<MenuItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchRestaurant();\r\n    fetchMenu();\r\n  }, []);\r\n\r\n  const fetchRestaurant = async () => {\r\n    const res = await api.get(`/restaurants/${id}`);\r\n    setRestaurant(res.data);\r\n  };\r\n\r\n  const fetchMenu = async () => {\r\n    const res = await api.get(`/menu/restaurant/${id}`);\r\n    console.log(\"fetchdata\",res)\r\n    setMenu(res.data);\r\n  };\r\n\r\n  if (!restaurant) return <p className=\"p-10 text-xl\">Loading...</p>;\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n\r\n      {/* Banner */}\r\n      <div className=\"rounded-2xl overflow-hidden shadow-lg border\">\r\n        <img\r\n          src={restaurant.imageUrl}\r\n          alt={restaurant.name}\r\n          className=\"w-full h-64 object-cover\"\r\n        />\r\n      </div>\r\n\r\n      {/* Restaurant Info */}\r\n      <div className=\"mt-6\">\r\n        <h1 className=\"text-4xl font-bold text-black\">{restaurant.name}</h1>\r\n\r\n        <p className=\"text-gray-700 mt-2 max-w-3xl\">{restaurant.description}</p>\r\n\r\n        <div className=\"flex items-center gap-4 mt-4 text-gray-800\">\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <Utensils className=\"h-5 w-5 text-orange-600\" />\r\n            <span className=\"font-medium\">{restaurant.cuisineType}</span>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5 text-orange-600\" />\r\n            <span>{restaurant.location}</span>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <Phone className=\"h-5 w-5 text-orange-600\" />\r\n            <span>{restaurant.phone}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <hr className=\"my-8 border-gray-300\" />\r\n\r\n      {/* Menu Title */}\r\n      <h2 className=\"text-3xl font-bold text-black mb-4\">\r\n        Menu <span className=\"text-orange-600\">Items</span>\r\n      </h2>\r\n\r\n      {/* Menu Grid */}\r\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n        {menu.map((item) => (\r\n          <div\r\n            key={item.id}\r\n            className=\"bg-white rounded-2xl shadow-md border hover:shadow-lg transition-all overflow-hidden\"\r\n          >\r\n            {/* Item Image */}\r\n            <img\r\n              src={item?.image}\r\n              alt={item?.name}\r\n              className=\"w-full h-48 object-cover\"\r\n            />\r\n\r\n            {/* Item Content */}\r\n            <div className=\"p-5\">\r\n              <h3\r\n              className=\"text-xl font-bold text-black\">{item.name}</h3>\r\n\r\n              <p className=\"text-gray-600 text-sm mt-2 line-clamp-3\">\r\n                {item.description}\r\n              </p>\r\n\r\n              <p className=\"text-orange-600 text-lg font-semibold mt-3\">\r\n                ₹ {item.price}\r\n              </p>\r\n\r\n              {/* <button\r\n                onClick={() =>\r\n\r\n                    addItem({\r\n                      id: item.id,\r\n                      name: item.name,\r\n                      price: item.price,\r\n                      imageUrl: item.imageUrl,\r\n                      })\r\n                 }\r\n                className=\"w-full bg-orange-600 text-white py-2.5 mt-4 rounded-xl font-semibold hover:bg-orange-700 transition-all\"\r\n              >\r\n                Add to Cart\r\n              </button> */}\r\n              <button\r\n  onClick={async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\"); // ⬅️ get user token\r\n\r\n      const res = await api.post(\r\n        \"/cart\",\r\n        {\r\n          menuItemId: item.id,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      console.log(\"Added to cart:\", res.data);\r\n\r\n      // Update Zustand UI cart\r\n      addItem({\r\n        id: item.id,\r\n        name: item.name,\r\n        price: item.price,\r\n        imageUrl: item.image,\r\n      });\r\n\r\n      alert(\"Item added to cart!\");\r\n\r\n    } catch (error) {\r\n      console.error(\"Error adding to cart:\", error);\r\n    }\r\n  }}\r\n  className=\"w-full bg-orange-600 text-white py-2.5 mt-4 rounded-xl font-semibold hover:bg-orange-700 transition-all\"\r\n>\r\n  Add to Cart\r\n</button>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}