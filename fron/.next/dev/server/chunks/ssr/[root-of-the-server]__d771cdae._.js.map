{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/store/useAuth.ts"],"sourcesContent":["\r\nimport { create } from \"zustand\";\r\n\r\ntype User = {\r\n  id: string;\r\n  role: string;\r\n  email: string;\r\n  name: string;\r\n  country?: string;\r\n};\r\n\r\ntype AuthStore = {\r\n  user: User | null;\r\n  loading: boolean;\r\n  setUser: (user: User | null) => void;\r\n  restoreUser: () => void;\r\n  logout: () => void;\r\n};\r\n\r\nexport const useAuth = create<AuthStore>((set) => ({\r\n  user: null,\r\n  loading: true,\r\n\r\n  setUser: (user) => set({ user, loading: false }),\r\n\r\n  restoreUser: () => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (storedUser) {\r\n      set({ user: JSON.parse(storedUser), loading: false });\r\n    } else {\r\n      set({ user: null, loading: false });\r\n    }\r\n  },\r\n\r\n  logout: () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    set({ user: null });\r\n    window.location.href = \"/login\";\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;AACA;;AAkBO,MAAM,UAAU,IAAA,kJAAM,EAAY,CAAC,MAAQ,CAAC;QACjD,MAAM;QACN,SAAS;QAET,SAAS,CAAC,OAAS,IAAI;gBAAE;gBAAM,SAAS;YAAM;QAE9C,aAAa;YACX,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,IAAI;oBAAE,MAAM,KAAK,KAAK,CAAC;oBAAa,SAAS;gBAAM;YACrD,OAAO;gBACL,IAAI;oBAAE,MAAM;oBAAM,SAAS;gBAAM;YACnC;QACF;QAEA,QAAQ;YACN,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,IAAI;gBAAE,MAAM;YAAK;YACjB,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF,CAAC"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/store/useCart.ts"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\ntype CartItem = {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  imageUrl?: string;\r\n  quantity: number;\r\n};\r\n\r\ntype CartStore = {\r\n  cartItems: CartItem[];\r\n  addItem: (item: Omit<CartItem, \"quantity\">) => void;\r\n  removeItem: (id: string) => void;\r\n  increaseQty: (id: string) => void;\r\n  decreaseQty: (id: string) => void;\r\n  clearCart: () => void;\r\n};\r\n\r\nexport const useCart = create<CartStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      cartItems: [],\r\n\r\n      // Add item\r\n      addItem: (item) => {\r\n        const existing = get().cartItems.find((i) => i.id === item.id);\r\n        if (existing) {\r\n          // increase quantity\r\n          set({\r\n            cartItems: get().cartItems.map((i) =>\r\n              i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i\r\n            ),\r\n          });\r\n        } else {\r\n          set({\r\n            cartItems: [...get().cartItems, { ...item, quantity: 1 }],\r\n          });\r\n        }\r\n      },\r\n\r\n      // Remove item fully\r\n      removeItem: (id) =>\r\n        set({\r\n          cartItems: get().cartItems.filter((item) => item.id !== id),\r\n        }),\r\n\r\n      // Increase quantity\r\n      increaseQty: (id) =>\r\n        set({\r\n          cartItems: get().cartItems.map((i) =>\r\n            i.id === id ? { ...i, quantity: i.quantity + 1 } : i\r\n          ),\r\n        }),\r\n\r\n      // Decrease quantity\r\n      decreaseQty: (id) =>\r\n        set({\r\n          cartItems: get().cartItems\r\n            .map((i) =>\r\n              i.id === id && i.quantity > 1\r\n                ? { ...i, quantity: i.quantity - 1 }\r\n                : i\r\n            )\r\n            .filter((item) => item.quantity > 0),\r\n        }),\r\n\r\n      // Clear entire cart\r\n      clearCart: () => set({ cartItems: [] }),\r\n    }),\r\n    {\r\n      name: \"foodhub-cart-storage\", // localStorage key\r\n    }\r\n  )\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAmBO,MAAM,UAAU,IAAA,kJAAM,IAC3B,IAAA,wJAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,WAAW,EAAE;QAEb,WAAW;QACX,SAAS,CAAC;YACR,MAAM,WAAW,MAAM,SAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;YAC7D,IAAI,UAAU;gBACZ,oBAAoB;gBACpB,IAAI;oBACF,WAAW,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC,IAC9B,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;4BAAE,GAAG,CAAC;4BAAE,UAAU,EAAE,QAAQ,GAAG;wBAAE,IAAI;gBAE5D;YACF,OAAO;gBACL,IAAI;oBACF,WAAW;2BAAI,MAAM,SAAS;wBAAE;4BAAE,GAAG,IAAI;4BAAE,UAAU;wBAAE;qBAAE;gBAC3D;YACF;QACF;QAEA,oBAAoB;QACpB,YAAY,CAAC,KACX,IAAI;gBACF,WAAW,MAAM,SAAS,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;YAC1D;QAEF,oBAAoB;QACpB,aAAa,CAAC,KACZ,IAAI;gBACF,WAAW,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC,IAC9B,EAAE,EAAE,KAAK,KAAK;wBAAE,GAAG,CAAC;wBAAE,UAAU,EAAE,QAAQ,GAAG;oBAAE,IAAI;YAEvD;QAEF,oBAAoB;QACpB,aAAa,CAAC,KACZ,IAAI;gBACF,WAAW,MAAM,SAAS,CACvB,GAAG,CAAC,CAAC,IACJ,EAAE,EAAE,KAAK,MAAM,EAAE,QAAQ,GAAG,IACxB;wBAAE,GAAG,CAAC;wBAAE,UAAU,EAAE,QAAQ,GAAG;oBAAE,IACjC,GAEL,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,GAAG;YACtC;QAEF,oBAAoB;QACpB,WAAW,IAAM,IAAI;gBAAE,WAAW,EAAE;YAAC;IACvC,CAAC,GACD;IACE,MAAM;AACR"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gagan/OneDrive/Desktop/FoodHub/fron/src/components/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { ShoppingCart, LogOut, LayoutDashboard, User } from \"lucide-react\";\r\nimport { useAuth } from \"@/store/useAuth\";\r\nimport { useCart } from \"@/store/useCart\";\r\n\r\nexport default function Header() {\r\n  const { user, loading, restoreUser, logout } = useAuth();\r\n  const { cartItems } = useCart();\r\n  const [open, setOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    restoreUser();\r\n  }, [restoreUser]);\r\n\r\n  // Close dropdown on outside click\r\n  useEffect(() => {\r\n    const handler = (e: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target as Node)) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handler);\r\n    return () => document.removeEventListener(\"mousedown\", handler);\r\n  }, []);\r\n\r\n  if (loading) return null;\r\n\r\n  const dashboardPath =\r\n    user?.role === \"admin\"\r\n      ? \"/dashboard/admin/main\"\r\n      : user?.role === \"manager\"\r\n      ? \"/dashboard/manager\"\r\n      : \"/dashboard/member\";\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-50 bg-white/90 backdrop-blur border-b shadow-sm\">\r\n      <div className=\"max-w-7xl mx-auto flex items-center justify-between px-6 py-4\">\r\n\r\n        {/* Logo */}\r\n        <Link href=\"/\" className=\"text-3xl font-extrabold text-orange-500\">\r\n          üçΩ Food<span className=\"text-black\">Hub</span>\r\n        </Link>\r\n\r\n        {/* Right Section */}\r\n        <div className=\"flex items-center gap-6\">\r\n          {user && (\r\n            <>\r\n          {/* Restaurants */}\r\n          {/* <Link href=\"/restaurant\" className=\"text-black hover:text-orange-600\">\r\n            Restaurants\r\n          </Link> */}\r\n         <Link\r\n  href=\"/restaurant\"\r\n  className=\"relative text-black font-medium after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-orange-600 after:transition-all after:duration-300 hover:after:w-full hover:text-orange-600\"\r\n>\r\n  Restaurants\r\n</Link>\r\n\r\n\r\n          {/* Cart */}\r\n          <Link href=\"/cart\" className=\"relative text-black hover:text-orange-600\">\r\n            <ShoppingCart size={22} />\r\n            {cartItems.length > 0 && (\r\n              <span className=\"absolute -top-2 -right-2 bg-orange-500 text-white text-xs px-2 rounded-full\">\r\n                {cartItems.length}\r\n              </span>\r\n            )}\r\n          </Link>\r\n          </>\r\n          )}\r\n\r\n          {/* NOT Logged In */}\r\n          {!user && (\r\n            <>\r\n              <Link href=\"/login\" className=\"text-black hover:text-orange-600\">\r\n                Login\r\n              </Link>\r\n              <Link\r\n                href=\"/register\"\r\n                className=\"bg-orange-500 text-white px-5 py-2 rounded-full hover:bg-orange-600\"\r\n              >\r\n                Sign Up\r\n              </Link>\r\n            </>\r\n          )}\r\n\r\n          {/* Logged In - Profile Dropdown */}\r\n          {user && (\r\n            <div className=\"relative\" ref={dropdownRef}>\r\n              {/* Avatar */}\r\n              <button\r\n                onClick={() => setOpen(!open)}\r\n                className=\"w-10 h-10 rounded-full bg-orange-500 text-white flex items-center justify-center font-bold text-lg shadow\"\r\n              >\r\n                {user.name?.charAt(0).toUpperCase()}\r\n              </button>\r\n\r\n              {/* Dropdown */}\r\n              {open && (\r\n                <div className=\"absolute right-0 mt-3 w-52 bg-white border rounded-xl shadow-lg overflow-hidden\">\r\n\r\n                  <div className=\"px-4 py-3 border-b\">\r\n                    <p className=\"font-semibold text-black\">{user.name}</p>\r\n                    <p className=\"text-sm text-gray-500 capitalize\">{user.role}</p>\r\n                  </div>\r\n\r\n                  <Link\r\n                    href=\"/profile\"\r\n                    className=\"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-black\"\r\n                    onClick={() => setOpen(false)}\r\n                  >\r\n                    <User size={18} /> Profile\r\n                  </Link>\r\n\r\n                  <Link\r\n                    href=\"/my-orders\"\r\n                    className=\"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-black\"\r\n                    onClick={() => setOpen(false)}\r\n                  >\r\n                    My Orders\r\n                  </Link>\r\n\r\n                  <Link\r\n                    href={dashboardPath}\r\n                    className=\"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-black\"\r\n                    onClick={() => setOpen(false)}\r\n                  >\r\n                    <LayoutDashboard size={18} /> Dashboard\r\n                  </Link>\r\n\r\n                  <button\r\n                    onClick={logout}\r\n                    className=\"w-full flex items-center gap-2 px-4 py-3 text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <LogOut size={18} /> Logout\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,IAAA,kIAAO;IACtD,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,kIAAO;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,cAAc,IAAA,+MAAM,EAAiB;IAE3C,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAY;IAEhB,kCAAkC;IAClC,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,CAAC;YACf,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAW;gBAC1E,QAAQ;YACV;QACF;QACA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG,EAAE;IAEL,IAAI,SAAS,OAAO;IAEpB,MAAM,gBACJ,MAAM,SAAS,UACX,0BACA,MAAM,SAAS,YACf,uBACA;IAEN,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;;wBAA0C;sCAC1D,8OAAC;4BAAK,WAAU;sCAAa;;;;;;;;;;;;8BAItC,8OAAC;oBAAI,WAAU;;wBACZ,sBACC;;8CAKH,8OAAC,uKAAI;oCACZ,MAAK;oCACL,WAAU;8CACX;;;;;;8CAMS,8OAAC,uKAAI;oCAAC,MAAK;oCAAQ,WAAU;;sDAC3B,8OAAC,sOAAY;4CAAC,MAAM;;;;;;wCACnB,UAAU,MAAM,GAAG,mBAClB,8OAAC;4CAAK,WAAU;sDACb,UAAU,MAAM;;;;;;;;;;;;;;wBAQtB,CAAC,sBACA;;8CACE,8OAAC,uKAAI;oCAAC,MAAK;oCAAS,WAAU;8CAAmC;;;;;;8CAGjE,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;wBAOJ,sBACC,8OAAC;4BAAI,WAAU;4BAAW,KAAK;;8CAE7B,8OAAC;oCACC,SAAS,IAAM,QAAQ,CAAC;oCACxB,WAAU;8CAET,KAAK,IAAI,EAAE,OAAO,GAAG;;;;;;gCAIvB,sBACC,8OAAC;oCAAI,WAAU;;sDAEb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAA4B,KAAK,IAAI;;;;;;8DAClD,8OAAC;oDAAE,WAAU;8DAAoC,KAAK,IAAI;;;;;;;;;;;;sDAG5D,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,QAAQ;;8DAEvB,8OAAC,0MAAI;oDAAC,MAAM;;;;;;gDAAM;;;;;;;sDAGpB,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,QAAQ;sDACxB;;;;;;sDAID,8OAAC,uKAAI;4CACH,MAAM;4CACN,WAAU;4CACV,SAAS,IAAM,QAAQ;;8DAEvB,8OAAC,+OAAe;oDAAC,MAAM;;;;;;gDAAM;;;;;;;sDAG/B,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,MAAM;;;;;;gDAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUxC"}}]
}